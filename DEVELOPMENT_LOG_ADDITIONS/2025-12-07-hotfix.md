# 2025-12-07 – Hotfix: Layouts & Admin UI

Krátký záznam úprav provedených 7.12.2025 (doplňující log z debug session):

## Co bylo opraveno

- Přidáno: `app/layout.tsx` s `<html lang="cs"><body>...</body></html>` a importem `./globals.css` tak, aby admin a další stránky mimo `[locale]` načetly globální styly.
- Upraveno: `app/[locale]/layout.tsx` — odstraněny duplicity `<html>`/`<body>`, zachován `NextIntlClientProvider`.
- Upraveno: `app/not-found.tsx` — renderuje pouze `Error` (root layout drží `<html>/<body>`).
- Přidáno: `global.d.ts` s `declare module '*.css'` pro TypeScript.
- Admin UI (`app/admin/dashboard/page.tsx`):
  - Mapování lokalizovaných polí (`name_cs`/`name_en`/`name_he`) do jednoduchého tvaru pro UI (`name`, `description`, `price`, `image`, `category`).
  - Odesílání lokalizovaného payloadu (`name_cs`, `name_en`, `name_he`, ...) při ukládání ketuby, aby `localizedKetubaSchema` projel validaci.
  - Přidán `sourceLocale` badge vedle názvu v seznamu (vizuální indikace, odkud pochází obsah).
  - Náhled obrázku používá `alt={name}` pro lepší SEO/accessibility.
  - Opraven problém "controlled → uncontrolled" u inputů (fallbacky na prázdné stringy).
- Normalizace Tailwind utilit v několika souborech (např. `bg-gradient-to-br` → `bg-linear-to-br`).

## Commit
- Commit message: `Fix layouts and admin UI`
- Změněno: 14 souborů (lokální úpravy layoutů, admin page, validace, typy, přidán `global.d.ts`).

## TODO (zapsáno)

- [ ] Přepsat admin form na multi-language tabs (umožnit editaci `name_cs`, `name_en`, `name_he` přímo v UI).
- [ ] Zobrazit serverové validační chyby ve formuláři (místo console.error).
- [ ] Otestovat end-to-end administraci: spustit `npm run dev`, upravit ketubu, ověřit PUT a aktualizaci `data/ketubas.json`.
- [ ] (volitelné) Pushnout commit na `origin/main` a nasadit.

---

Záznam vložen automaticky: 2025-12-07
